{% extends "doc_generator/base.html" %}
{% block title %}Templates — PolicyGen{% endblock %}
{% block content %}
  <div style="display:flex; justify-content:space-between; align-items:center;">
    <h2 style="margin:0">Policy Templates</h2>
    <a class="btn" href="{% url 'doc_generator:template_create' %}">Add Template</a>
  </div>

  {% if templates %}
    <div style="margin-top:12px;">
      {% for t in templates %}
        <div class="card">
          <div style="display:flex; justify-content:space-between; align-items:center;">
            <div>
              <strong>{{ t.name }}</strong>
              <div class="small">{{ t.description|default:"—" }}</div>
              <div class="meta">Controls: <span class="controls-list">{{ t.control_list }}</span></div>
            </div>
            <div style="text-align:right">
              <a href="{% url 'doc_generator:template_edit' t.pk %}" class="btn alt">Edit</a>
              <a href="{% url 'doc_generator:generate' %}?template={{ t.pk }}" class="btn" style="margin-left:8px">Generate</a>
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
    {% if is_paginated %}
      <div class="small" style="margin-top:12px">Paginated list</div>
    {% endif %}
  {% else %}
    <p>No policy templates yet. Add one to start generating policies.</p>
  {% endif %}
{% endblock %}

